# PRDドリブン開発プロンプト

このプロンプトは、PRD（Product Requirements Document）に基づいてプロジェクトのスケルトンを自動的にアレンジするためのClaude Code専用指示書です。

## 🎯 基本使用方法

プロジェクト生成後、PRD.mdを完成させてから以下を実行：

```
PRD.mdの内容に基づいてプロジェクトのスケルトンをアレンジして
```

## 📋 実行フェーズ

### Phase 1: PRD分析・理解

1. **PRD.mdの詳細読み込み**
   - プロダクトビジョン・ミッションの理解
   - ターゲットユーザー・ペルソナの把握
   - ユーザーストーリー・ユースケースの分析
   - 機能要件（MVP vs Future）の分類
   - 技術要件・制約条件の確認
   - 成功指標・KPIの理解

2. **要件の優先順位付け**
   - MVP機能の特定
   - Critical Pathの分析
   - 依存関係の整理
   - リスク要因の特定

### Phase 2: アーキテクチャ設計

1. **技術スタック検証・最適化**
   - PRD要件に対する技術選択の妥当性確認
   - パフォーマンス・スケーラビリティ要件への対応
   - セキュリティ要件の実装方針
   - 開発・運用効率の考慮

2. **ディレクトリ構造最適化**
   - プロダクトの特性に応じた構造設計
   - 機能別・レイヤー別の整理
   - 拡張性・保守性の確保
   - チーム開発への配慮

3. **データモデル設計**
   - エンティティ・リレーションの定義
   - データフロー設計
   - API設計（該当する場合）
   - 状態管理戦略

### Phase 3: 実装計画立案

1. **開発フェーズ分割**
   - MVP → v1.0 → Future のロードマップ
   - 各フェーズの成果物・成功条件
   - 技術的マイルストーンの設定

2. **実装順序決定**
   - 依存関係に基づく最適順序
   - リスク軽減を考慮した順序
   - フィードバック取得タイミング

### Phase 4: スケルトン生成・調整

1. **ファイル・ディレクトリ生成**
   - PRD要件に応じたファイル追加
   - 不要なテンプレートファイルの削除
   - プロジェクト固有の設定調整

2. **基本実装の追加**
   - インターフェース・型定義
   - 基本クラス・関数のスケルトン
   - 設定ファイルの調整
   - 依存関係の追加・調整

3. **ドキュメント更新**
   - README.mdの詳細化
   - API仕様書（該当する場合）
   - 開発ガイド・コーディング規約

### Phase 5: 開発ガイダンス提供

1. **継続開発指針**
   - 実装時の注意事項・ベストプラクティス
   - テスト戦略・品質保証
   - デプロイ・リリース手順
   - 運用・監視のポイント

2. **フィードバックループ設計**
   - ユーザーフィードバック収集方法
   - データ分析・KPI測定手順
   - 改善サイクルの確立

## 🎨 プロジェクトタイプ別対応

### MCP Server

**重点ポイント:**
- MCP仕様（JSON-RPC 2.0）への完全準拠
- Tools/Resources/Promptsの効果的な設計
- エラーハンドリング・ログ出力の充実
- AIクライアントとの統合最適化

**スケルトン調整例:**
```typescript
// tools/ 配下にPRD要件に応じたツール実装
// resources/ 配下にデータソース連携
// 適切なスキーマ定義・バリデーション
```

### Web Application (Next.js)

**重点ポイント:**
- ユーザーストーリーに基づくページ設計
- レスポンシブ・アクセシビリティ対応
- 状態管理・データフロー最適化
- SEO・パフォーマンス考慮

**スケルトン調整例:**
```
pages/ または app/ の適切な構造
components/ の機能別整理
API Routes設計
状態管理ライブラリ統合
```

### API Server (FastAPI)

**重点ポイント:**
- RESTful設計原則の遵守
- データモデル・バリデーション充実
- 認証・認可・セキュリティ
- OpenAPI仕様書自動生成

**スケルトン調整例:**
```python
# routers/ 配下に機能別エンドポイント
# models/ にPydanticモデル定義
# services/ にビジネスロジック
# 適切なミドルウェア設定
```

### CLI Tool (Rust)

**重点ポイント:**
- 直感的なコマンド体系設計
- 引数・オプションの適切な設計
- エラーメッセージの親切さ
- パフォーマンス・メモリ効率

**スケルトン調整例:**
```rust
// src/commands/ にサブコマンド実装
// src/config/ に設定管理
// clap を使用したCLI設計
// 適切なエラー型定義
```

## 🔍 品質保証チェックリスト

### 要件適合性
- [ ] PRD要件の完全反映
- [ ] MVP機能の適切な特定・実装
- [ ] ユーザーストーリーの実現可能性
- [ ] 技術的制約の適切な考慮

### アーキテクチャ品質
- [ ] 拡張性・保守性の確保
- [ ] パフォーマンス要件への対応
- [ ] セキュリティ要件の実装
- [ ] 開発効率の最適化

### 実装品質
- [ ] コードの可読性・保守性
- [ ] 適切なテスト戦略
- [ ] エラーハンドリング充実
- [ ] ドキュメント・コメント充実

### プロダクト品質
- [ ] ユーザビリティの考慮
- [ ] パフォーマンス最適化
- [ ] アクセシビリティ対応
- [ ] 国際化・ローカライゼーション

## 🚀 継続改善

### フィードバック統合
- PRD更新時の自動再アレンジ
- ユーザーフィードバックの要件反映
- 技術進化に応じたアップデート

### 最適化継続
- パフォーマンス監視・改善
- コードベース品質向上
- 開発プロセス効率化

---

**📌 重要**: このプロンプトは、単なるコード生成ではなく、PRDに込められたプロダクトビジョンを技術実装に翻訳する作業です。機械的な対応ではなく、プロダクトの成功を目指した戦略的判断を行ってください。