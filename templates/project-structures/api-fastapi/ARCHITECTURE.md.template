# ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ - {{PROJECT_NAME}}

ãƒãƒ¼ã‚¸ãƒ§ãƒ³: 1.0  
ä½œæˆæ—¥: {{DATE}}  
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¿ã‚¤ãƒ—: API Server (FastAPI)

## ğŸ—ï¸ æ¦‚è¦

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€{{PROJECT_NAME}}ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆæŒ‡é‡ã¨å®Ÿè£…ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã‚’æä¾›ã—ã¾ã™ã€‚Claude Codeãªã©ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒã‚¹ã‚±ãƒ«ãƒˆãƒ³ã‚¢ãƒ¬ãƒ³ã‚¸ã‚’è¡Œã†éš›ã®å‚è€ƒè³‡æ–™ã¨ã—ã¦ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚

## ğŸ“‹ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: FastAPI
- **è¨€èª**: Python 3.11+
- **ASGI ã‚µãƒ¼ãƒãƒ¼**: Uvicorn
- **ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**: Pydantic v2
- **å‹ãƒ’ãƒ³ãƒˆ**: Python Typing

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- **ORM**: SQLAlchemy 2.0
- **ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**: Alembic
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: PostgreSQL / SQLite (é–‹ç™ºç”¨)
- **æ¥ç¶šãƒ—ãƒ¼ãƒ«**: SQLAlchemy Engine

### èªè¨¼ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- **JWT**: PyJWT
- **ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥**: bcrypt / Passlib
- **OAuth2**: FastAPI OAuth2 scheme
- **CORS**: FastAPI CORS middleware
- **ãƒ¬ãƒ¼ãƒˆåˆ¶é™**: slowapi

### é–‹ç™ºãƒ„ãƒ¼ãƒ«
- **ä¾å­˜é–¢ä¿‚ç®¡ç†**: Poetry / pip-tools
- **ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ**: Black + isort
- **ãƒªãƒ³ã‚¿ãƒ¼**: Ruff / Flake8
- **å‹ãƒã‚§ãƒƒã‚¯**: mypy
- **ãƒ†ã‚¹ãƒˆ**: pytest + pytest-asyncio

## ğŸ¯ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£åŸå‰‡

### è¨­è¨ˆåŸå‰‡
1. **Domain-Driven Design**: ãƒ‰ãƒ¡ã‚¤ãƒ³ä¸­å¿ƒã®è¨­è¨ˆ
2. **Clean Architecture**: ä¾å­˜æ€§é€†è»¢ã€ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ†é›¢
3. **RESTful API**: æ¨™æº–çš„ãªHTTPãƒ¡ã‚½ãƒƒãƒ‰ãƒ»ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰
4. **Type Safety**: Pydanticãƒ»mypy ã«ã‚ˆã‚‹å‹å®‰å…¨æ€§
5. **Test-Driven**: ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™º

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŸå‰‡
- **Async/Await**: éåŒæœŸå‡¦ç†ã«ã‚ˆã‚‹é«˜ã„ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆ
- **Connection Pooling**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šåŠ¹ç‡åŒ–
- **Caching**: Redisãƒ»ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªã‚­ãƒ£ãƒƒã‚·ãƒ¥æ´»ç”¨
- **Lazy Loading**: å¿…è¦æ™‚ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿

## ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
{{PROJECT_NAME}}/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ {{PROJECT_NAME}}/          # ãƒ¡ã‚¤ãƒ³ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ main.py               # FastAPIã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”‚   â”œâ”€â”€ core/                 # æ ¸ã¨ãªã‚‹è¨­å®šãƒ»ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ config.py         # è¨­å®šç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ security.py       # ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»èªè¨¼
â”‚   â”‚   â”‚   â”œâ”€â”€ database.py       # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­å®š
â”‚   â”‚   â”‚   â””â”€â”€ dependencies.py   # ä¾å­˜æ€§æ³¨å…¥
â”‚   â”‚   â”œâ”€â”€ api/                  # API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ main.py           # APIãƒ«ãƒ¼ã‚¿ãƒ¼çµ±åˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ v1/               # API v1
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ auth.py       # èªè¨¼ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ users.py      # ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [feature].py  # æ©Ÿèƒ½åˆ¥ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”‚   â”‚   â””â”€â”€ deps.py           # APIä¾å­˜é–¢ä¿‚
â”‚   â”‚   â”œâ”€â”€ models/               # SQLAlchemyãƒ¢ãƒ‡ãƒ«
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ base.py           # ãƒ™ãƒ¼ã‚¹ãƒ¢ãƒ‡ãƒ«
â”‚   â”‚   â”‚   â”œâ”€â”€ user.py           # ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¢ãƒ‡ãƒ«
â”‚   â”‚   â”‚   â””â”€â”€ [feature].py      # æ©Ÿèƒ½åˆ¥ãƒ¢ãƒ‡ãƒ«
â”‚   â”‚   â”œâ”€â”€ schemas/              # Pydanticã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ base.py           # ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ user.py           # ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.py           # èªè¨¼ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”‚   â”‚   â””â”€â”€ [feature].py      # æ©Ÿèƒ½åˆ¥ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”‚   â”œâ”€â”€ services/             # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ base.py           # ãƒ™ãƒ¼ã‚¹ã‚µãƒ¼ãƒ“ã‚¹
â”‚   â”‚   â”‚   â”œâ”€â”€ user_service.py   # ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œ
â”‚   â”‚   â”‚   â”œâ”€â”€ auth_service.py   # èªè¨¼ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â”‚   â””â”€â”€ [feature]_service.py # æ©Ÿèƒ½åˆ¥ã‚µãƒ¼ãƒ“ã‚¹
â”‚   â”‚   â”œâ”€â”€ repositories/         # ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ base.py           # ãƒ™ãƒ¼ã‚¹ãƒªãƒã‚¸ãƒˆãƒª
â”‚   â”‚   â”‚   â”œâ”€â”€ user_repository.py # ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹
â”‚   â”‚   â”‚   â””â”€â”€ [feature]_repository.py # æ©Ÿèƒ½åˆ¥ãƒªãƒã‚¸ãƒˆãƒª
â”‚   â”‚   â”œâ”€â”€ utils/                # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ logging.py        # ãƒ­ã‚°è¨­å®š
â”‚   â”‚   â”‚   â”œâ”€â”€ validators.py     # ã‚«ã‚¹ã‚¿ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚¿ãƒ¼
â”‚   â”‚   â”‚   â””â”€â”€ helpers.py        # ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°
â”‚   â”‚   â””â”€â”€ exceptions/           # ã‚«ã‚¹ã‚¿ãƒ ä¾‹å¤–
â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚       â”œâ”€â”€ base.py           # ãƒ™ãƒ¼ã‚¹ä¾‹å¤–
â”‚   â”‚       â”œâ”€â”€ auth.py           # èªè¨¼ä¾‹å¤–
â”‚   â”‚       â””â”€â”€ [feature].py      # æ©Ÿèƒ½åˆ¥ä¾‹å¤–
â”œâ”€â”€ tests/                        # ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ conftest.py              # pytestè¨­å®š
â”‚   â”œâ”€â”€ unit/                    # ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
â”‚   â”‚   â”œâ”€â”€ test_services/
â”‚   â”‚   â”œâ”€â”€ test_repositories/
â”‚   â”‚   â””â”€â”€ test_utils/
â”‚   â”œâ”€â”€ integration/             # çµ±åˆãƒ†ã‚¹ãƒˆ
â”‚   â”‚   â”œâ”€â”€ test_api/
â”‚   â”‚   â””â”€â”€ test_database/
â”‚   â””â”€â”€ fixtures/                # ãƒ†ã‚¹ãƒˆãƒ•ã‚£ã‚¯ã‚¹ãƒãƒ£
â”œâ”€â”€ alembic/                     # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”œâ”€â”€ versions/
â”‚   â”œâ”€â”€ env.py
â”‚   â””â”€â”€ script.py.mako
â”œâ”€â”€ docs/                        # API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”œâ”€â”€ requirements/                # ä¾å­˜é–¢ä¿‚
â”‚   â”œâ”€â”€ base.txt
â”‚   â”œâ”€â”€ dev.txt
â”‚   â””â”€â”€ prod.txt
â”œâ”€â”€ pyproject.toml               # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š
â”œâ”€â”€ alembic.ini                  # Alembicè¨­å®š
â”œâ”€â”€ .env.example                 # ç’°å¢ƒå¤‰æ•°ä¾‹
â””â”€â”€ README.md                    # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆèª¬æ˜
```

## ğŸ”§ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ

### FastAPI Application (main.py)
**è²¬å‹™**: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³åˆæœŸåŒ–ã€ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢è¨­å®š
```python
# src/{{PROJECT_NAME}}/main.py
from fastapi import FastAPI
from fastapi.middleware.cors import CORSMiddleware

from .api.main import api_router
from .core.config import settings

app = FastAPI(
    title="{{PROJECT_NAME}}",
    version="1.0.0",
    openapi_url=f"{settings.API_V1_STR}/openapi.json"
)

# CORSè¨­å®š
app.add_middleware(
    CORSMiddleware,
    allow_origins=settings.BACKEND_CORS_ORIGINS,
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)

# APIãƒ«ãƒ¼ã‚¿ãƒ¼ç™»éŒ²
app.include_router(api_router, prefix=settings.API_V1_STR)
```

### Pydantic Models (schemas/)
**è²¬å‹™**: ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ»ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å‹å®šç¾©ã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
```python
# schemas/user.py
from pydantic import BaseModel, EmailStr, Field
from typing import Optional
from datetime import datetime

class UserBase(BaseModel):
    email: EmailStr
    full_name: Optional[str] = None
    is_active: bool = True

class UserCreate(UserBase):
    password: str = Field(..., min_length=8)

class UserUpdate(BaseModel):
    email: Optional[EmailStr] = None
    full_name: Optional[str] = None
    password: Optional[str] = Field(None, min_length=8)

class UserInDB(UserBase):
    id: int
    created_at: datetime
    updated_at: Optional[datetime] = None
    
    model_config = {"from_attributes": True}

class User(UserInDB):
    pass
```

### SQLAlchemy Models (models/)
**è²¬å‹™**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©ã€ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
```python
# models/user.py
from sqlalchemy import Column, Integer, String, Boolean, DateTime
from sqlalchemy.sql import func

from .base import Base

class User(Base):
    __tablename__ = "users"
    
    id = Column(Integer, primary_key=True, index=True)
    email = Column(String, unique=True, index=True, nullable=False)
    full_name = Column(String, nullable=True)
    hashed_password = Column(String, nullable=False)
    is_active = Column(Boolean, default=True)
    created_at = Column(DateTime(timezone=True), server_default=func.now())
    updated_at = Column(DateTime(timezone=True), onupdate=func.now())
```

### Repository Pattern (repositories/)
**è²¬å‹™**: ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹æŠ½è±¡åŒ–ã€ã‚¯ã‚¨ãƒªå®Ÿè£…
```python
# repositories/user_repository.py
from typing import Optional, List
from sqlalchemy.orm import Session
from sqlalchemy import select

from ..models.user import User
from ..schemas.user import UserCreate, UserUpdate
from .base import BaseRepository

class UserRepository(BaseRepository[User, UserCreate, UserUpdate]):
    def get_by_email(self, db: Session, email: str) -> Optional[User]:
        statement = select(User).where(User.email == email)
        return db.execute(statement).scalar_one_or_none()
    
    def get_active_users(self, db: Session, skip: int = 0, limit: int = 100) -> List[User]:
        statement = select(User).where(User.is_active == True).offset(skip).limit(limit)
        return db.execute(statement).scalars().all()
```

### Service Layer (services/)
**è²¬å‹™**: ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã€è¤‡æ•°ãƒªãƒã‚¸ãƒˆãƒªã®èª¿æ•´
```python
# services/user_service.py
from typing import Optional
from sqlalchemy.orm import Session

from ..core.security import get_password_hash, verify_password
from ..repositories.user_repository import UserRepository
from ..schemas.user import UserCreate, UserUpdate
from ..models.user import User

class UserService:
    def __init__(self, user_repo: UserRepository):
        self.user_repo = user_repo
    
    def create_user(self, db: Session, user_create: UserCreate) -> User:
        # ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥åŒ–
        hashed_password = get_password_hash(user_create.password)
        
        # ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆãƒ‡ãƒ¼ã‚¿æº–å‚™
        user_data = user_create.model_dump()
        user_data["hashed_password"] = hashed_password
        del user_data["password"]
        
        return self.user_repo.create(db, obj_in=user_data)
    
    def authenticate(self, db: Session, email: str, password: str) -> Optional[User]:
        user = self.user_repo.get_by_email(db, email=email)
        if not user or not verify_password(password, user.hashed_password):
            return None
        return user
```

## ğŸ”„ ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

### ãƒªã‚¯ã‚¨ã‚¹ãƒˆå‡¦ç†ãƒ•ãƒ­ãƒ¼
```
1. HTTP Request â†’ FastAPI
2. Request Validation â†’ Pydantic Schema
3. Dependency Injection â†’ Dependencies
4. Route Handler â†’ API Endpoint
5. Service Layer â†’ Business Logic
6. Repository Layer â†’ Data Access
7. Database Query â†’ SQLAlchemy
8. Response Formatting â†’ Pydantic Schema
9. HTTP Response â†’ Client
```

### èªè¨¼ãƒ•ãƒ­ãƒ¼
```
1. Login Request â†’ /auth/login
2. Credential Validation â†’ UserService.authenticate
3. JWT Token Generation â†’ Security Utils
4. Token Response â†’ Client
5. Authenticated Request â†’ Authorization Header
6. Token Validation â†’ Security Dependencies
7. User Context â†’ Request Handler
```

## ğŸ§ª ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
```python
# tests/unit/test_services/test_user_service.py
import pytest
from unittest.mock import Mock

from src.{{PROJECT_NAME}}.services.user_service import UserService
from src.{{PROJECT_NAME}}.schemas.user import UserCreate

@pytest.fixture
def user_service():
    mock_repo = Mock()
    return UserService(user_repo=mock_repo)

def test_create_user_hashes_password(user_service):
    # ãƒ†ã‚¹ãƒˆå®Ÿè£…
    user_create = UserCreate(email="test@example.com", password="password123")
    # ...
```

### çµ±åˆãƒ†ã‚¹ãƒˆ
```python
# tests/integration/test_api/test_users.py
import pytest
from fastapi.testclient import TestClient

from src.{{PROJECT_NAME}}.main import app

@pytest.fixture
def client():
    return TestClient(app)

def test_create_user_endpoint(client, db_session):
    response = client.post(
        "/api/v1/users/",
        json={"email": "test@example.com", "password": "password123"}
    )
    assert response.status_code == 201
    assert response.json()["email"] == "test@example.com"
```

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …

### èªè¨¼ãƒ»èªå¯
```python
# core/security.py
from passlib.context import CryptContext
from jose import JWTError, jwt
from datetime import datetime, timedelta

pwd_context = CryptContext(schemes=["bcrypt"], deprecated="auto")

def create_access_token(data: dict, expires_delta: Optional[timedelta] = None):
    to_encode = data.copy()
    if expires_delta:
        expire = datetime.utcnow() + expires_delta
    else:
        expire = datetime.utcnow() + timedelta(minutes=15)
    
    to_encode.update({"exp": expire})
    encoded_jwt = jwt.encode(to_encode, SECRET_KEY, algorithm=ALGORITHM)
    return encoded_jwt
```

### å…¥åŠ›æ¤œè¨¼
- **Pydantic**: è‡ªå‹•çš„ãªå‹å¤‰æ›ãƒ»ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
- **ã‚«ã‚¹ã‚¿ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚¿ãƒ¼**: ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«æ¤œè¨¼
- **SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–**: SQLAlchemy ORMä½¿ç”¨
- **XSSå¯¾ç­–**: é©åˆ‡ãªã‚¨ã‚¹ã‚±ãƒ¼ãƒ—å‡¦ç†

## ğŸ“Š ç›£è¦–ãƒ»ãƒ­ã‚°

### æ§‹é€ åŒ–ãƒ­ã‚°
```python
# utils/logging.py
import structlog
from pythonjsonlogger import jsonlogger

def setup_logging():
    structlog.configure(
        processors=[
            structlog.stdlib.filter_by_level,
            structlog.stdlib.add_logger_name,
            structlog.stdlib.add_log_level,
            structlog.processors.JSONRenderer()
        ],
        context_class=dict,
        logger_factory=structlog.stdlib.LoggerFactory(),
        wrapper_class=structlog.stdlib.BoundLogger,
        cache_logger_on_first_use=True,
    )
```

### ãƒ¡ãƒˆãƒªã‚¯ã‚¹
- **Prometheus**: ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†
- **ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“**: ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆåˆ¥ç›£è¦–
- **ã‚¨ãƒ©ãƒ¼ç‡**: HTTP ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰åˆ¥
- **ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°**: ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆç›£è¦–

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ

### ç’°å¢ƒæ§‹æˆ
```python
# core/config.py
from pydantic_settings import BaseSettings

class Settings(BaseSettings):
    PROJECT_NAME: str = "{{PROJECT_NAME}}"
    VERSION: str = "1.0.0"
    API_V1_STR: str = "/api/v1"
    
    # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
    DATABASE_URL: str
    
    # ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
    SECRET_KEY: str
    ACCESS_TOKEN_EXPIRE_MINUTES: int = 30
    
    # CORS
    BACKEND_CORS_ORIGINS: List[str] = []
    
    class Config:
        env_file = ".env"

settings = Settings()
```

### Dockerè¨­å®š
```dockerfile
# Dockerfile
FROM python:3.11-slim

WORKDIR /app

COPY requirements/prod.txt .
RUN pip install -r prod.txt

COPY src/ ./src/
COPY alembic/ ./alembic/
COPY alembic.ini .

CMD ["uvicorn", "src.{{PROJECT_NAME}}.main:app", "--host", "0.0.0.0", "--port", "8000"]
```

## ğŸ”„ PRDè¦ä»¶å¯¾å¿œæŒ‡é‡

### Agentå‘ã‘å®Ÿè£…ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹

**1. PRDåˆ†ææ™‚ã®é‡ç‚¹ç¢ºèªäº‹é …**
- **ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«**: ã©ã®ã‚ˆã†ãªã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãŒå¿…è¦ã‹
- **APIè¨­è¨ˆ**: ã©ã®ã‚ˆã†ãªã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒå¿…è¦ã‹
- **èªè¨¼è¦ä»¶**: ã©ã®ã‚ˆã†ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ãƒ™ãƒ«ãŒå¿…è¦ã‹
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶**: åŒæœŸ/éåŒæœŸå‡¦ç†ã®é¸æŠ

**2. ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆè¨­è¨ˆã®æ±ºå®šåŸºæº–**
- **RESTfulè¨­è¨ˆ**: æ¨™æº–çš„ãªHTTPãƒ¡ã‚½ãƒƒãƒ‰ä½¿ç”¨
- **ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°**: APIé€²åŒ–ã¸ã®å¯¾å¿œ
- **ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³**: å¤§é‡ãƒ‡ãƒ¼ã‚¿ã®åŠ¹ç‡çš„å–å¾—
- **ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°**: æŸ”è»Ÿãªæ¤œç´¢ãƒ»çµã‚Šè¾¼ã¿

**3. ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«è¨­è¨ˆæŒ‡é‡**
- **æ­£è¦åŒ–**: é©åˆ‡ãªãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆ
- **ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**: ã‚¯ã‚¨ãƒªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
- **åˆ¶ç´„**: ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ä¿è¨¼
- **ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**: ã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´ç®¡ç†

**4. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å®Ÿè£…**
- **èªè¨¼æ–¹å¼**: JWT vs Session ã®é¸æŠ
- **èªå¯ãƒ¬ãƒ™ãƒ«**: ãƒ­ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ vs ãƒªã‚½ãƒ¼ã‚¹ãƒ™ãƒ¼ã‚¹
- **å…¥åŠ›æ¤œè¨¼**: Pydantic + ã‚«ã‚¹ã‚¿ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚¿ãƒ¼
- **ãƒ¬ãƒ¼ãƒˆåˆ¶é™**: APIä¹±ç”¨é˜²æ­¢

**5. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–**
- **éåŒæœŸå‡¦ç†**: I/Oé›†ç´„çš„å‡¦ç†ã®æœ€é©åŒ–
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥**: Redisãƒ»ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªã‚­ãƒ£ãƒƒã‚·ãƒ¥
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æœ€é©åŒ–**: ã‚¯ã‚¨ãƒªãƒ»ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æœ€é©åŒ–
- **ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°**: æ°´å¹³ãƒ»å‚ç›´ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°å¯¾å¿œ

---

**ğŸ“Œ é‡è¦**: ã“ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¯ {{PROJECT_NAME}} ã® PRDè¦ä»¶ã«åŸºã¥ã„ã¦æŸ”è»Ÿã«èª¿æ•´ã—ã¦ãã ã•ã„ã€‚ç‰¹ã«ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ã€APIè¨­è¨ˆã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶ã«ã¤ã„ã¦ã¯ã€å…·ä½“çš„ãªè¦ä»¶ã«å¿œã˜ã¦æœ€é©åŒ–ã‚’è¡Œã£ã¦ãã ã•ã„ã€‚